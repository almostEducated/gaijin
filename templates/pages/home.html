{{define "content"}}

    <div class="container">
        <h1 class="welcome-text">よこそう</h1>

        <div class="action-buttons">
            <button class="cta-button" onclick="window.location.href='/study'">
                Start Studying
            </button>
            <button class="cta-button secondary" onclick="window.location.href='/visual-confusion'">
                Visual Confusion Practice
            </button>
            <button class="cta-button secondary" onclick="window.location.href='/profile'">
                Profile
            </button>
        </div>
  
      
        <!-- Verb Conjugation Section -->
        <div class="verb-conjugation-section" style="margin: 40px 0; padding: 30px; background: #f8f9fa; border-radius: 10px; max-width: 1200px; margin-left: auto; margin-right: auto;">
            <h2 style="text-align: center; margin-bottom: 20px; color: #333;">動詞活用 (Verb Conjugation)</h2>
            
            <!-- Verb Input -->
            <div style="text-align: center; margin-bottom: 30px;">
                <form id="verbInputForm" style="display: inline-block;">
                    <input 
                        type="text" 
                        id="verbInput" 
                        oninput="romanjiToHiragana(this)" 
                        placeholder="Enter verb in dictionary form (e.g., 食べる)"
                        value="食べる"
                        style="padding: 12px 20px; font-size: 18px; width: 400px; border: 2px solid #ddd; border-radius: 5px; margin-right: 10px;"
                    />
                    <button 
                        type="submit"
                        style="padding: 12px 30px; font-size: 18px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;"
                    >
                        Conjugate
                    </button>
                </form>
                <div id="verbError" style="color: #dc3545; margin-top: 10px; display: none;"></div>
            </div>
            
            <!-- Helper Text -->
            <div style="text-align: center; margin-bottom: 20px; padding: 15px; background: #f0f0f0; border-radius: 8px; max-width: 800px; margin-left: auto; margin-right: auto;">
                <p style="margin: 0; color: #555; font-size: 14px; line-height: 1.6;">
                    <strong>Japanese Verb Structure:</strong>  1. Verb stem 2. Voice derivations 3. Aspect marker 4. Tense/politeness 5. Mood markers
                </p>
            </div>
            
            <!-- Control Buttons Table -->
            <div style="display: flex; justify-content: center; margin-bottom: 30px;">
                <table class="control-buttons-table">
                    <thead>
                        <tr>
                            <th>Voice</th>
                            <th>Aspect</th>
                            <th>Tense</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <button id="potentialBtn" class="conjugation-control-btn" onclick="toggleControl('potential')">
                                    Potential
                                </button>
                            </td>
                            <td>
                                <button id="continuousBtn" class="conjugation-control-btn" onclick="toggleControl('continuous')">
                                    Continuous
                                </button>
                            </td>
                            <td>
                                <button id="simpleBtn" class="conjugation-control-btn" onclick="toggleControl('simple')">
                                    Simple/Present
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button id="passiveBtn" class="conjugation-control-btn" onclick="toggleControl('passive')">
                                    Passive
                                </button>
                            </td>
                            <td>
                                <button id="completionBtn" class="conjugation-control-btn" onclick="toggleControl('completion')">
                                    Completion
                                </button>
                            </td>
                            <td>
                                <button id="pastBtn" class="conjugation-control-btn" onclick="toggleControl('past')">
                                    Past
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button id="causativeBtn" class="conjugation-control-btn" onclick="toggleControl('causative')">
                                    Causative
                                </button>
                            </td>
                            <td>
                                <button id="resultantBtn" class="conjugation-control-btn" onclick="toggleControl('resultant')">
                                    Resultant
                                </button>
                            </td>
                            <td>
                                <button id="negativeBtn" class="conjugation-control-btn" onclick="toggleControl('negative')">
                                    Negative
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Conjugation Grid -->
            <div style="display: flex; justify-content: center; margin-bottom: 20px;">
                <div class="conjugation-grid-container">
                    <!-- Column Headers -->
                    <div class="grid-header-row">
                        <div class="grid-header-cell">English</div>
                        <div class="grid-header-cell">Form</div>
                        <div class="grid-header-cell">Casual</div>
                        <div class="grid-header-cell">Standard</div>
                        <div class="grid-header-cell">Polite</div>
                        <div class="grid-header-cell">Formal</div>
                    </div>
                    
                    <!-- Grid Rows -->
                    <div class="grid-row" data-form="plain">
                        <div class="grid-english-cell">I verb</div>
                        <div class="grid-label-cell" id="plainLabel">Plain</div>
                        <div class="grid-cell" data-formality="casual" onclick="openConjugationModal('plain', 'casual')"></div>
                        <div class="grid-cell" data-formality="standard" onclick="openConjugationModal('plain', 'standard')"></div>
                        <div class="grid-cell" data-formality="polite" onclick="openConjugationModal('plain', 'polite')"></div>
                        <div class="grid-cell" data-formality="formal" onclick="openConjugationModal('plain', 'formal')"></div>
                    </div>
                    <div class="grid-row" data-form="te">
                        <div class="grid-english-cell">be verb-ing</div>
                        <div class="grid-label-cell" id="teLabel">T form</div>
                        <div class="grid-cell" data-formality="casual" onclick="openConjugationModal('te', 'casual')"></div>
                        <div class="grid-cell" data-formality="standard" onclick="openConjugationModal('te', 'standard')"></div>
                        <div class="grid-cell" data-formality="polite" onclick="openConjugationModal('te', 'polite')"></div>
                        <div class="grid-cell" data-formality="formal" onclick="openConjugationModal('te', 'formal')"></div>
                    </div>
                    <div class="grid-row" data-form="volitional">
                        <div class="grid-english-cell">Let's verb</div>
                        <div class="grid-label-cell" id="volitionalLabel">Volitional</div>
                        <div class="grid-cell" data-formality="casual" onclick="openConjugationModal('volitional', 'casual')"></div>
                        <div class="grid-cell" data-formality="standard" onclick="openConjugationModal('volitional', 'standard')"></div>
                        <div class="grid-cell" data-formality="polite" onclick="openConjugationModal('volitional', 'polite')"></div>
                        <div class="grid-cell" data-formality="formal" onclick="openConjugationModal('volitional', 'formal')"></div>
                    </div>
                    <div class="grid-row" data-form="conditional">
                        <div class="grid-english-cell">If I verb</div>
                        <div class="grid-label-cell" id="conditionalLabel">Conditional</div>
                        <div class="grid-cell" data-formality="casual" onclick="openConjugationModal('conditional', 'casual')"></div>
                        <div class="grid-cell" data-formality="standard" onclick="openConjugationModal('conditional', 'standard')"></div>
                        <div class="grid-cell" data-formality="polite" onclick="openConjugationModal('conditional', 'polite')"></div>
                        <div class="grid-cell" data-formality="formal" onclick="openConjugationModal('conditional', 'formal')"></div>
                    </div>
                    <div class="grid-row" data-form="desiderative">
                        <div class="grid-english-cell">I want to verb</div>
                        <div class="grid-label-cell" id="desiderativeLabel">Desiderative</div>
                        <div class="grid-cell" data-formality="casual" onclick="openConjugationModal('desiderative', 'casual')"></div>
                        <div class="grid-cell" data-formality="standard" onclick="openConjugationModal('desiderative', 'standard')"></div>
                        <div class="grid-cell" data-formality="polite" onclick="openConjugationModal('desiderative', 'polite')"></div>
                        <div class="grid-cell" data-formality="formal" onclick="openConjugationModal('desiderative', 'formal')"></div>
                    </div>
                    <div class="grid-row" data-form="deontic">
                        <div class="grid-english-cell">I must verb</div>
                        <div class="grid-label-cell" id="deonticLabel">Deontic</div>
                        <div class="grid-cell" data-formality="casual" onclick="openConjugationModal('deontic', 'casual')"></div>
                        <div class="grid-cell" data-formality="standard" onclick="openConjugationModal('deontic', 'standard')"></div>
                        <div class="grid-cell" data-formality="polite" onclick="openConjugationModal('deontic', 'polite')"></div>
                        <div class="grid-cell" data-formality="formal" onclick="openConjugationModal('deontic', 'formal')"></div>
                    </div>
                    <div class="grid-row" data-form="imperative">
                        <div class="grid-english-cell">Verb!</div>
                        <div class="grid-label-cell" id="imperativeLabel">Imperative</div>
                        <div class="grid-cell" data-formality="casual" onclick="openConjugationModal('imperative', 'casual')"></div>
                        <div class="grid-cell" data-formality="standard" onclick="openConjugationModal('imperative', 'standard')"></div>
                        <div class="grid-cell" data-formality="polite" onclick="openConjugationModal('imperative', 'polite')"></div>
                        <div class="grid-cell" data-formality="formal" onclick="openConjugationModal('imperative', 'formal')"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal -->
        <div id="conjugationModal" class="modal" style="display: none;">
            <div class="modal-content">
                <span class="modal-close" onclick="closeConjugationModal()">&times;</span>
                <h2 id="modalTitle" style="margin-bottom: 20px; color: #333;"></h2>
                <table id="conjugationTable" style="width: 100%; border-collapse: collapse;">
                    <thead>
                        <tr style="background: #e9ecef;">
                            <th style="padding: 10px; border: 1px solid #ddd; text-align: left;">Plain Form</th>
                            <th style="padding: 10px; border: 1px solid #ddd; text-align: left;">Verb/Ending</th>
                            <th style="padding: 10px; border: 1px solid #ddd; text-align: left;">Ending</th>
                            <th style="padding: 10px; border: 1px solid #ddd; text-align: left;">Full Verb</th>
                        </tr>
                    </thead>
                    <tbody id="conjugationTableBody">
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- <div class="features">
            <div class="feature">
                <h3>漢字 (Kanji)</h3>
                <p>Learn and practice Japanese characters with stroke order and meanings</p>
            </div>
            <div class="feature">
                <h3>文法 (Grammar)</h3>
                <p>Master Japanese grammar patterns and sentence structures</p>
            </div>
            <div class="feature">
                <h3>練習 (Practice)</h3>
                <p>Interactive exercises and quizzes to reinforce your learning</p>
            </div>
        </div> -->
        

    </div>

    <script src="/static/js/verbGrid.js"></script>
    <script src="/static/js/romajiToHiragana.js"></script>

{{end}}