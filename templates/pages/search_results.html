{{define "content"}}
<div class="container" style="max-width: 900px;">
    <!-- Header -->
    <div style="text-align: center; margin-bottom: 30px;">
        <h1 style="font-size: 28px; color: #2c3e50; margin-bottom: 10px;">
            üîç Search Results
        </h1>
        <div style="font-size: 20px; color: #667eea; margin-bottom: 5px;">
            "{{.Query}}"
        </div>
        <p style="color: #999; margin-top: 10px;">
            {{.WordCount}} word{{if ne .WordCount 1}}s{{end}} found
            {{if eq .SearchType "japanese"}}
            <span style="font-size: 12px;">(searched in words & readings)</span>
            {{else}}
            <span style="font-size: 12px;">(searched in definitions)</span>
            {{end}}
        </p>
    </div>

    <!-- Search Bar (for new search) -->
    <div style="max-width: 500px; margin: 0 auto 30px auto;">
        <form action="/search" method="GET" style="display: flex; gap: 10px;">
            <input type="text" name="q" value="{{.Query}}" placeholder="Search words..." 
                   style="flex: 1; padding: 12px 20px; font-size: 16px; border: 2px solid #e0e0e0; 
                          border-radius: 25px; outline: none; transition: border-color 0.3s;"
                   onfocus="this.style.borderColor='#667eea'" 
                   onblur="this.style.borderColor='#e0e0e0'">
            <button type="submit" 
                    style="padding: 12px 25px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                           color: white; border: none; border-radius: 25px; font-weight: 600; cursor: pointer;
                           transition: all 0.3s ease;">
                Search
            </button>
        </form>
    </div>

    <!-- Back to Learn -->
    <div style="text-align: center; margin-bottom: 30px;">
        <a href="/learn" style="color: #667eea; text-decoration: none; font-weight: 500;">
            ‚Üê Back to Learn
        </a>
    </div>

    {{if .NoResults}}
    <div style="text-align: center; padding: 50px; color: #666;">
        <div style="font-size: 48px; margin-bottom: 20px;">üîé</div>
        <p style="font-size: 20px;">No words found for "{{.Query}}"</p>
        <p style="font-size: 14px; margin-top: 10px; color: #999;">
            {{if eq .SearchType "english"}}
            Try searching with Japanese characters (hiragana, katakana, or kanji) to search by word/reading.
            {{else}}
            Try searching in English to find words by their definition.
            {{end}}
        </p>
    </div>
    {{else}}
    <!-- Word List -->
    <div class="search-word-list">
        {{range .WordsByLevel}}
        <!-- Level Header -->
        <div class="level-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            color: white; padding: 10px 20px; border-radius: 8px; margin: 20px 0 15px 0; font-weight: 600;">
            JLPT N{{.Level}}
        </div>
        
        {{range .Words}}
        <!-- Word Row -->
        <div class="word-row" style="display: flex; align-items: center; padding: 15px 20px; 
            background: white; border-radius: 10px; margin-bottom: 10px; 
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06); transition: all 0.2s ease; cursor: pointer;"
            onclick="window.location.href='/kanji?kanji={{.Word}}'">
            
            <!-- Word/Kanji -->
            <div class="word-kanji" style="flex: 0 0 150px; font-size: 24px; font-weight: bold; color: #2c3e50;">
                {{.Word}}
            </div>
            
            <!-- Furigana -->
            <div class="word-furigana" style="flex: 0 0 120px; font-size: 14px; color: #667eea;">
                {{if .Furigana}}{{.Furigana}}{{else}}<span style="color: #ccc;">-</span>{{end}}
            </div>
            
            <!-- Definition -->
            <div class="word-definition" style="flex: 1; font-size: 15px; color: #34495e; padding-right: 15px;">
                {{if .Definitions}}{{.Definitions}}{{else}}<span style="color: #999;">No definition</span>{{end}}
            </div>
            
            <!-- Part of Speech -->
            <div class="word-pos" style="flex: 0 0 auto;">
                {{if .PartsOfSpeech}}
                <span style="background: #e8f4f8; color: #2980b9; padding: 4px 10px; 
                    border-radius: 12px; font-size: 12px; white-space: nowrap;">
                    {{.PartsOfSpeech}}
                </span>
                {{end}}
            </div>
        </div>
        {{end}}
        {{end}}
    </div>
    {{end}}
</div>

<style>
.word-row:hover {
    transform: translateX(5px);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    background: #fafafa;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .word-row {
        flex-wrap: wrap;
        gap: 10px;
    }
    
    .word-kanji {
        flex: 0 0 100% !important;
        margin-bottom: 5px;
    }
    
    .word-furigana {
        flex: 0 0 auto !important;
    }
    
    .word-definition {
        flex: 1 1 100% !important;
        order: 3;
        padding-right: 0 !important;
        margin-top: 5px;
    }
    
    .word-pos {
        order: 2;
    }
}
</style>
{{end}}
